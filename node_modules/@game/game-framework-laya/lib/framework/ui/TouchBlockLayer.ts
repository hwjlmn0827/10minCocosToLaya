import RainbowConfig from '../rainbow/RainbowConfig';
import GlobalZorder from './GlobalZorder';

/**
 * 触摸屏蔽器
 * 在它下面的节点都不会响应触屏
 */
export default class TouchBlockLayer extends Laya.Sprite {
  private _isGray: boolean;

  constructor(isGray?: boolean) {
    super();
    this.width = Laya.stage.width;
    this.height = Laya.stage.height;
    this.zOrder = GlobalZorder.touchBlockLayer;
    this._isGray = isGray;
  }

  onAwake(): void {
    super.onAwake();
    this.on(Laya.Event.MOUSE_DOWN, this, function() {});
    this.showGray(this._isGray);
  }

  showGray(isGray): void {
    this._isGray = isGray;
    this.width = Laya.stage.width;
    this.height = Laya.stage.height;
    this.graphics.clear();
    if (isGray) {
      this.graphics.drawRect(0, 0, this.width, this.height, '#000000');
      this.alpha = RainbowConfig.defaultMaskAlpha;
    }
  }
}
